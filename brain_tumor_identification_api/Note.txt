How to run this application:

1. Need to install conda
2. Change conda environment "conda activate mri_data"

Next process:
==============
1. Keep all the models in the model folder
2. Need to create in Python
    1. Grad-CAM 
    2. Occlusion Sensitivity Map
    3. Combine Grad CAM and LIME
3. Need to make objects: 
    1. image 
    2. result 
    3. message    



import requests

def make_prediction(image_file):
    # Load or process the image as needed
    
    # Example: Send the prediction request to Ollama
    url = "http://localhost:11434/api/generate"
    payload = {
        "model": "gpt-4",  # Replace with your preferred model
        "prompt": f"""
            You are a medical expert in oncology. Based on the MRI image analysis, the patient has been diagnosed with cancer.
            The AI has identified a brain tumor. Please provide step-by-step guidance for the next steps:
            
            Patient Information (if available):
            - Age: [Insert age]
            - Medical History: [Insert medical history]
            - Symptoms: [Insert symptoms]
            
            MRI Analysis Results:
            - Tumor Type: [Replace with your model's prediction]
            - Tumor Location: [Replace with your model's prediction]
            - Size of Tumor: [Replace with your model's prediction]
            
            Provide a clear, actionable plan for the next steps in diagnosis and treatment.
        """,
    }
    
    response = requests.post(url, json=payload)
    return response.json()['choices'][0]['message']['content']




# model = tf.keras.models.load_model('model/vgg19_balance.h5')
# model = tf.keras.models.load_model('model/vgg16_imbalanced.h5')
# model = tf.keras.models.load_model('model/vgg16_balance.h5')
# model = tf.keras.models.load_model('model/propose_imbalanced.h5')
# model = tf.keras.models.load_model('model/propose_balance.h5')
# model = tf.keras.models.load_model('model/ResNet50_imbalanced.h5')
# model = tf.keras.models.load_model('model/ResNet50_balance.h5')
# model = tf.keras.models.load_model('model/MobileVNet_imbalanced.h5')
# model = tf.keras.models.load_model('model/MobileVNet_balance.h5')
# model = tf.keras.models.load_model('model/GoogleLeNet_imbalanced.h5')
# model = tf.keras.models.load_model('model/GoogleLeNet_balance.h5')